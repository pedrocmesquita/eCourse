@startuml
hide methods
left to right direction
skinparam classAttributeIconSize 0
skinparam classFontColor automatic
skinparam classHeaderBackgroundColor #4
skinparam packageStyle rectangle


'//--//--//--//--//--/ User /--//--//--//--//--//--//

package "User Aggregate"{

    Entity User <<Root>> {
        password
    }

    Object email <<Identity>> {
    }

    Object designation {
        fullName
        shortName
    }

    Entity Teacher {
    }

    Object acronym <<Identity>>{
    }

    Entity Student {
    }

    Object mechanographicNumber <<Identity>>{
    }

    Entity Manager {
    }

    Object personaInformation {
        birthdate
        taxNumber
    }

}

'//--//--//--//--//--/ Exam /--//--//--//--//--//--//

package "Exam Aggregate" <<Rectangle>> {

    Entity Exam <<Root>> {
        description
        openDate
        closeDate
    }

    Object Title <<Identity>>{
    }

    Object Question {
        question
        solution
    }

    Object Feedback {
    }

    Entity ExamSubmission {
    grade
    }

    Object Answer {
    }

}


'//--//--//--//--//--/ Board /--//--//--//--//--//--//
package "Board Aggregate" <<Rectangle>> {
    Entity Board <<Root>>
    {
        Title
        permissions_write
        permissions_read
        archived
    }

    Entity Column
    {
        id
        Title
    }

    Entity Row
    {
        id
        Title
    }

    Entity Post
    {
        Title
    '    author
        timestamp
    }

    Entity Content
    {
        content
    }
}

'//--//--//--//--//--/ Meeting /--//--//--//--//--//--//
package "Meeting Aggregate" <<Rectangle>> {
    Entity Meeting <<Root>>
    {
        schedule
        duration
    }
    Entity MeetingInvitation {
    response
    }


}
'//--//--//--//--//--/ Course /--//--//--//--//--//--//
package "Course Aggregate" <<Rectangle>> {

Entity Course <<Root>>
{
    maxEnroll
    minEnroll
}

Object ID <<Identity>>{
}

Object Name {
}

Object State <<enum>> {
}

Object Description {
}


Object EnrolledStudents {
}

Object EnrolledTeachers{
    isInCharge
}

Object State <<Enum>> {

}

}

package "Class Aggregate" <<Rectangle>> {
    Entity Class
    {
        date
        duration
    }

    Entity ExtraClass
    {
        date
        duration
    }
}

'//--//--//

'//--//--//--//--//--/ User /--//--//--//--//--//--//

    User "1" <-d- "1" Teacher
    User "1" <-r- "1" Student
    User "1" <-r- "1" Manager
    Teacher "1"--> "1"acronym
    Student "1"--> "1" mechanographicNumber
    User --> email

    Teacher "1" -l-> "1" designation
    Student "1" --> "1" designation
    Teacher "1" -l-> "1" personaInformation
    Student "1" --> "1" personaInformation

'//--//--//--//--//--/ Exam /--//--//--//--//--//--//

    Exam "1" --> "1..*" Question : has
    Exam "1" <-- "0..*" ExamSubmission : of a
    Student "1" <----- "1" ExamSubmission : of a
    Teacher "1" --> "*" Exam : creates
    Answer "1"-->"1" Feedback : has
    ExamSubmission "1"-->"1..*" Answer
    Exam "*" <-- "1" Course : has
    Exam "1" --> "1" Title

'//--//--//--//--//--/ Board /--//--//--//--//--//--//

    User "1" -u----> "*" Board : creates
    Board "1" --> "*" Column : has
    Board "1" --> "*" Row : has
    Board "1" --> "*" Post : has
    Post "*" --> "1" Column : is in
    Post "*" --> "1" Row : is in
    User "1" --> "*" Post : creates
    Post "1" --> "0..1" Content : has

'//--//--//--//--//--/ Meeting /--//--//--//--//--//--//

    User "*" -u---> "1" MeetingInvitation
    MeetingInvitation "*" <-- "1" Meeting

'//--//--//--//--//--/ Course /--//--//--//--//--//--//

    Class "*" <--l- "1" Course : has
    ExtraClass "*" <-- "1" Course : has
    Teacher "1" --> "*" Class : schedules
    Teacher "1" --> "*" ExtraClass : schedules
    Teacher "1" --> "*" EnrolledTeachers
    EnrolledTeachers "*" <-- "1" Course : has
    EnrolledStudents "*" <-- "1" Course : has
    Course --> State
    Course --> ID
    Course --> Name
    Course --> Description
    Student --> EnrolledStudents : requests

@enduml